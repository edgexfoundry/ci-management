---

- project:
    name: device-sdk-c
    project-name: device-sdk-c
    project: device-sdk-c
    build-node: ubuntu18.04-docker-arm64-4c-2g
    mvn-settings: device-sdk-c-settings
    archive-artifacts: '$WORKSPACE/device-sdk-c/build/release/*.gz'
    pre_build_script: ''
    git_url: '$GIT_URL/$PROJECT'
    build_script: '$WORKSPACE/device-sdk-c/scripts/build.sh'
    build_dir: '$WORKSPACE/device-sdk-c/scripts/build'
    cron: 'H 11 * * *'
    stream:
      - 'master':
          branch: 'master'          
    jobs:
      - '{project-name}-github-cmake-verify'
      - '{project-name}-github-cmake-stage'
    builders:
      - shell: 'git clone -b master https://github.com/edgexfoundry/device-sdk-c.git'
      - shell: 'apk add --update --no-cache build-base wget git gcc cmake make yaml-dev libcurl curl-dev libmicrohttpd-dev'
      - shell: '$WORKSPACE/device-sdk-c/scripts/build.sh'
      - shell: 'ls -hal $WORKSPACE/$project-dir/release'  
